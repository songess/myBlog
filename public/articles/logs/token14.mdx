---
id: token14
title: 토큰 해결방법
date: 2025-01-14
---

기민이랑 만나서 토큰관련된 로직을 해결하려 시도했고, 최종적으로 두 가지로 좁혀졌다.

<br /> 일단 RT를 제거하는 로직은 성공했다. 해결해야하는 것은 localhost 토큰을
발급하는 것이다.

## 방법 1

배포서버에서는 `.tigleisure.com`토큰만 발급, 개발서버에서는 `.tigleisure.com`, `localhost` 두 가지 토큰을 발급해주는 것이다.

GA 혹은 다른 사람들에게 물어보면 이 방법으로 해결했다고 한다. 이 방법을 여러번 시도했지만 백엔드쪽에서 이슈가 발생해 일단 보류상태이지만, 이게 최선의 방법이라고 생각한다.

## 방법 2

방법 1로 처리할 수 없다면 이 방법을 사용할 것이다.
배포서버는 똑같이 하고, 로컬에서 `localhost`로 발급이 안된다면, 로컬서버 한정으로 헤더로 토큰을 담아 보내주면 브라우저 단에서 토큰을 쿠키에 저장해 사용하는 것이다.

이 방법은 `http-only`쿠키를 사용하기 때문에 좋은 방법은 아니지만, 로컬에서만 이렇게 사용하기 때문에 문제가 되지 않는다고 판단했다.
